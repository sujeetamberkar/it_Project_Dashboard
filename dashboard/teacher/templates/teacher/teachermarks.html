{% load custom_filters %}

<!DOCTYPE html>
<html>
<head>
    <title>Enter Marks</title>
</head>
<body>
    <h1>Enter Marks</h1>
    <form method="post">
        {% csrf_token %}
        <table>
            <tr>
                <th>Student</th>
                <th>Marks Obtained</th>
                <th>Total Marks</th>
            </tr>
            {% for student in students %}
            <tr>
                <td>{{ student.username }}</td>
                <td>
                    <input type="number" name="marks_obtained_{{ student.id }}" value="{{ marks|get_item:student.id|default_if_none:""|attr:"marks_obtained" }}" min="0">
                </td>
                <td>
                    <input type="number" name="total_marks_{{ student.id }}" value="{{ marks|get_item:student.id|default_if_none:""|attr:"total_marks" }}" min="0">
                </td>
            </tr>
            {% endfor %}
        </table>
        <button type="submit">Update Marks</button>
    </form>
    <a href="{% url 'teacher_home' %}">Go to Home</a>

</body>
</html>
